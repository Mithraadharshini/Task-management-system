{"ast":null,"code":"var _jsxFileName = \"/Users/mithraa/Documents/task-management-system/frontend/src/components/categoryManager.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Typography, Box, TextField, Button, IconButton, List, ListItem, ListItemText, ListItemSecondaryAction } from '@mui/material';\nimport { Edit, Delete } from '@mui/icons-material';\nimport { categoriesAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CategoryManager(onclosonCategoriesChanged) {\n  _s();\n  const [categories, setCategories] = useState([]);\n  const [name, setName] = useState('');\n  const [editingId, setEditingId] = useState(null);\n  const fetchCategories = async () => {\n    const res = await categoriesAPI.getCategories();\n    setCategories(res.data.categories);\n  };\n  useEffect(() => {\n    fetchCategories();\n  }, []);\n  const handleSave = async () => {\n    if (!name.trim()) return;\n    if (editingId) {\n      await categoriesAPI.updateCategory(editingId, name);\n    } else {\n      await categoriesAPI.createCategory(name);\n      setName('');\n      if (onCategoriesChanged) onCategoriesChanged(); // refresh category dropdown\n    }\n    setEditingId(null);\n    fetchCategories();\n  };\n  const handleEdit = cat => {\n    setName(cat.name);\n    setEditingId(cat.id);\n  };\n  const handleDelete = async id => {\n    if (window.confirm('Delete this category?')) {\n      await categoriesAPI.deleteCategory(id);\n      fetchCategories();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      mt: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      children: \"Manage Categories\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        gap: 2,\n        mt: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Category Name\",\n        value: name,\n        onChange: e => setName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: handleSave,\n        children: editingId ? 'Update' : 'Add'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      sx: {\n        mt: 2\n      },\n      children: categories.map(cat => /*#__PURE__*/_jsxDEV(ListItem, {\n        children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: cat.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => handleEdit(cat),\n            children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => handleDelete(cat.id),\n            color: \"error\",\n            children: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, cat.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(CategoryManager, \"nmtWCihZO4RSdMpGq0XlyuAbze0=\");\n_c = CategoryManager;\nvar _c;\n$RefreshReg$(_c, \"CategoryManager\");","map":{"version":3,"names":["React","useState","useEffect","Typography","Box","TextField","Button","IconButton","List","ListItem","ListItemText","ListItemSecondaryAction","Edit","Delete","categoriesAPI","jsxDEV","_jsxDEV","CategoryManager","onclosonCategoriesChanged","_s","categories","setCategories","name","setName","editingId","setEditingId","fetchCategories","res","getCategories","data","handleSave","trim","updateCategory","createCategory","onCategoriesChanged","handleEdit","cat","id","handleDelete","window","confirm","deleteCategory","sx","mt","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","label","value","onChange","e","target","onClick","map","primary","color","_c","$RefreshReg$"],"sources":["/Users/mithraa/Documents/task-management-system/frontend/src/components/categoryManager.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Typography, Box, TextField, Button, IconButton, List, ListItem, ListItemText, ListItemSecondaryAction\n} from '@mui/material';\nimport { Edit, Delete } from '@mui/icons-material';\nimport { categoriesAPI } from '../services/api';\n\nexport default function CategoryManager(onclosonCategoriesChanged) {\n  const [categories, setCategories] = useState([]);\n  const [name, setName] = useState('');\n  const [editingId, setEditingId] = useState(null);\n\n  const fetchCategories = async () => {\n    const res = await categoriesAPI.getCategories();\n    setCategories(res.data.categories);\n  };\n\n  useEffect(() => {\n    fetchCategories();\n  }, []);\n\n  const handleSave = async () => {\n    if (!name.trim()) return;\n    if (editingId) {\n      await categoriesAPI.updateCategory(editingId, name);\n    } else {\n      await categoriesAPI.createCategory(name);\n      setName('');\nif (onCategoriesChanged) onCategoriesChanged(); // refresh category dropdown\n    }\n    setEditingId(null);\n    fetchCategories();\n  };\n\n  const handleEdit = (cat) => {\n    setName(cat.name);\n    setEditingId(cat.id);\n  };\n\n  const handleDelete = async (id) => {\n    if (window.confirm('Delete this category?')) {\n      await categoriesAPI.deleteCategory(id);\n      fetchCategories();\n    }\n  };\n\n  return (\n    <Box sx={{ mt: 4 }}>\n      <Typography variant=\"h5\">Manage Categories</Typography>\n\n      <Box sx={{ display: 'flex', gap: 2, mt: 2 }}>\n        <TextField\n          label=\"Category Name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n        <Button variant=\"contained\" onClick={handleSave}>\n          {editingId ? 'Update' : 'Add'}\n        </Button>\n      </Box>\n\n      <List sx={{ mt: 2 }}>\n        {categories.map((cat) => (\n          <ListItem key={cat.id}>\n            <ListItemText primary={cat.name} />\n            <ListItemSecondaryAction>\n              <IconButton onClick={() => handleEdit(cat)}>\n                <Edit />\n              </IconButton>\n              <IconButton onClick={() => handleDelete(cat.id)} color=\"error\">\n                <Delete />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n        ))}\n      </List>\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}